// Funciones para construir el contenido del formulario por día
function construirFormularioLunes() {
    return `
        <form>
            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="routine" class="col-form-label">Tipo ejercicio</label>
                    <input type="text" class="form-control" id="routine">
                </div>
                <div class="col-md-4">
                    <label for="exercise" class="col-form-label">Ejercicio</label>
                    <input type="text" class="form-control" id="exercise">
                </div>
                <div class="col-md-4">
                    <label for="reps" class="col-form-label">Repeticiones</label>
                    <input type="number" class="form-control" id="reps" style="width: 90px;">
                </div>
            </div>
            <button type="button" class="btn btn-soft-info mt-2">
                <i class="fa-solid fa-plus fa-lg"></i>
            </button>

            <button type="button" class="btn btn-soft-danger mt-2">
                <i class="fa-solid fa-minus fa-lg"></i>
            </button>
        </form>
    `;
}

function construirFormularioMartes() {
    return `
        <form>
            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="routine" class="col-form-label">Tipo ejercicio</label>
                    <input type="text" class="form-control" id="routine">
                </div>
                <div class="col-md-4">
                    <label for="exercise" class="col-form-label">Ejercicio</label>
                    <input type="text" class="form-control" id="exercise">
                </div>
                <div class="col-md-4">
                    <label for="reps" class="col-form-label">Repeticiones</label>
                    <input type="number" class="form-control" id="reps" style="width: 90px;">
                </div>
            </div>
            <button type="button" class="btn btn-soft-info mt-2">
                <i class="fa-solid fa-plus fa-lg"></i>
            </button>

            <button type="button" class="btn btn-soft-danger mt-2">
                <i class="fa-solid fa-minus fa-lg"></i>
            </button>
        </form>
    `;
}

function construirFormularioMiercoles() {
    return `
        <form>
            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="routine" class="col-form-label">Tipo ejercicio</label>
                    <input type="text" class="form-control" id="routine">
                </div>
                <div class="col-md-4">
                    <label for="exercise" class="col-form-label">Ejercicio</label>
                    <input type="text" class="form-control" id="exercise">
                </div>
                <div class="col-md-4">
                    <label for="reps" class="col-form-label">Repeticiones</label>
                    <input type="number" class="form-control" id="reps" style="width: 90px;">
                </div>
            </div>
            <button type="button" class="btn btn-soft-info mt-2">
                <i class="fa-solid fa-plus fa-lg"></i>
            </button>

            <button type="button" class="btn btn-soft-danger mt-2">
                <i class="fa-solid fa-minus fa-lg"></i>
            </button>
        </form>
    `;
}

function construirFormularioJueves() {
    return `
        <form>
            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="routine" class="col-form-label">Tipo ejercicio</label>
                    <input type="text" class="form-control" id="routine">
                </div>
                <div class="col-md-4">
                    <label for="exercise" class="col-form-label">Ejercicio</label>
                    <input type="text" class="form-control" id="exercise">
                </div>
                <div class="col-md-4">
                    <label for="reps" class="col-form-label">Repeticiones</label>
                    <input type="number" class="form-control" id="reps" style="width: 90px;">
                </div>
            </div>
            <button type="button" class="btn btn-soft-info mt-2">
                <i class="fa-solid fa-plus fa-lg"></i>
            </button>

            <button type="button" class="btn btn-soft-danger mt-2">
                <i class="fa-solid fa-minus fa-lg"></i>
            </button>
        </form>
    `;
}

function construirFormularioViernes() {
    return `
        <form>
            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="routine" class="col-form-label">Tipo ejercicio</label>
                    <input type="text" class="form-control" id="routine">
                </div>
                <div class="col-md-4">
                    <label for="exercise" class="col-form-label">Ejercicio</label>
                    <input type="text" class="form-control" id="exercise">
                </div>
                <div class="col-md-4">
                    <label for="reps" class="col-form-label">Repeticiones</label>
                    <input type="number" class="form-control" id="reps" style="width: 90px;">
                </div>
            </div>

            <button type="button" class="btn btn-soft-info mt-2">
                <i class="fa-solid fa-plus fa-lg"></i>
            </button>

            <button type="button" class="btn btn-soft-danger mt-2">
                <i class="fa-solid fa-minus fa-lg"></i>
            </button>

        </form>
    `;
}

function construirFormularioSabado() {
    return `
        <form>
            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="routine" class="col-form-label">Tipo ejercicio</label>
                    <input type="text" class="form-control" id="routine">
                </div>
                <div class="col-md-4">
                    <label for="exercise" class="col-form-label">Ejercicio</label>
                    <input type="text" class="form-control" id="exercise">
                </div>
                <div class="col-md-4">
                    <label for="reps" class="col-form-label">Repeticiones</label>
                    <input type="number" class="form-control" id="reps" style="width: 90px;">
                </div>
            </div>
            <button type="button" class="btn btn-soft-info mt-2">
                <i class="fa-solid fa-plus fa-lg"></i>
            </button>

            <button type="button" class="btn btn-soft-danger mt-2">
                <i class="fa-solid fa-minus fa-lg"></i>
            </button>
        </form>
    `;
}

function construirFormularioDomingo() {
    return `
        <form>
            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="routine" class="col-form-label">Tipo ejercicio</label>
                    <input type="text" class="form-control" id="routine">
                </div>
                <div class="col-md-4">
                    <label for="exercise" class="col-form-label">Ejercicio</label>
                    <input type="text" class="form-control" id="exercise">
                </div>
                <div class="col-md-4">
                    <label for="reps" class="col-form-label">Repeticiones</label>
                    <input type="number" class="form-control" id="reps" style="width: 90px;">
                </div>
            </div>
            
            <button type="button" class="btn btn-soft-info mt-2">
                <i class="fa-solid fa-plus fa-lg"></i>
            </button>

            <button type="button" class="btn btn-soft-danger mt-2">
                <i class="fa-solid fa-minus fa-lg"></i>
            </button>
        </form>
    `;
}

// Event listener para cada botón de día
document.querySelectorAll('[data-bs-target="#exampleModal"]').forEach(button => {
    button.addEventListener('click', function () {
        const dia = this.getAttribute('data-dia');
        const modalTitle = document.querySelector('.modal-title');
        const modalBody = document.querySelector('.modal-body');

        // Cambiar el título del modal según el día seleccionado
        modalTitle.textContent = `Rutina ${dia}`;

        let formulario;

        // Asigna el formulario correspondiente según el día seleccionado
        switch (dia) {
            case 'Lunes':
                formulario = construirFormularioLunes();
                break;
            case 'Martes':
                formulario = construirFormularioMartes();
                break;
            case 'Miercoles':
                formulario = construirFormularioMiercoles();
                break;
            case 'Jueves':
                formulario = construirFormularioJueves();
                break;
            case 'Viernes':
                formulario = construirFormularioViernes();
                break;
            case 'Sabado':
                formulario = construirFormularioSabado();
                break;
            case 'Domingo':
                formulario = construirFormularioDomingo();
                break;   
            default:
                formulario = 'Formulario no disponible para este día';
                break;
        }

        // Establece el contenido del formulario en el modal
        modalBody.innerHTML = formulario;

 // Obtener botones de agregar y eliminar
 const addButton = modalBody.querySelector('.btn-soft-info');
 const minusButton = modalBody.querySelector('.btn-soft-danger');

 addButton.addEventListener('click', function () {
     const form = modalBody.querySelector('form'); // Selecciona el formulario dentro del modal
 
     // Encuentra el conjunto de campos que quieres clonar
     const originalFields = form.querySelector('.row.mb-3');
 
     // Clona el conjunto de campos
     const clonedFields = originalFields.cloneNode(true);
 
     // Modifica los campos clonados si es necesario
     // Por ejemplo, podrías limpiar los valores de los campos clonados
     clonedFields.querySelectorAll('input').forEach(input => {
         input.value = ''; // Limpiar los valores de los inputs
     });
 
     // Agrega los campos clonados al formulario
     form.appendChild(clonedFields);
 });
 
 
 // Agregar evento al botón de eliminar
 minusButton.addEventListener('click', function () {
     const form = modalBody.querySelector('form'); // Selecciona el formulario dentro del modal
 
     // Encuentra todos los conjuntos de campos agregados (puedes ser más específico si se necesitas)
     const fields = form.querySelectorAll('.row.mb-3');
 
     // Verifica que haya campos agregados antes de intentar eliminar
     if (fields.length > 0) {
         // Encuentra el último conjunto de campos agregados (el más reciente)
         const lastField = fields[fields.length - 1];
 
         // Elimina el último conjunto de campos del formulario
         form.removeChild(lastField);
     }
 });

 const buttonsContainer = modalBody.querySelector('.buttons-container');
 buttonsContainer.innerHTML = ''; // Limpia el contenedor antes de agregar los botones
 buttonsContainer.appendChild(addButton);
 buttonsContainer.appendChild(minusButton);
        
    });
});
